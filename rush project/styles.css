/* ===== Base & Theme ===== */
:root{
  --bg:#0b0e13; --panel:#121824; --card:#161d2b; --text:#e9eef7; --muted:#9fb0c8;
  --accent:#7c5cff; --accent-2:#00d4ff; --ring:color-mix(in oklab,var(--accent)55%,white 0%);
  --shadow:0 8px 30px rgba(0,0,0,.35); --radius:18px; --gap:clamp(14px,2.4vw,24px);
}
@media (prefers-color-scheme: light){
  :root{ --bg:#f7f9fc; --panel:#fff; --card:#fff; --text:#0c1320; --muted:#51607a;
         --accent:#6b5bff; --accent-2:#0096ff; --shadow:0 8px 30px rgba(16,24,40,.08); }
}
*{box-sizing:border-box}
html,body{height:100%}
html{ scroll-behavior:smooth }
[id]{ scroll-margin-top: 84px; }

body{
  margin:0; font:16px/1.6 system-ui,-apple-system,"Segoe UI",Roboto,"Noto Sans Thai","Noto Sans",sans-serif;
  color:var(--text);
  /* พื้นหลังม่วงอ่อน */
  background:
    radial-gradient(1100px 700px at 12% -10%, #ede9fe 0%, transparent 60%),
    radial-gradient(1000px 650px at 88% 0%, rgba(216,180,254,.35) 0%, transparent 60%),
    linear-gradient(180deg, #f5f3ff 0%, #ede9fe 100%);
}
img{max-width:100%; display:block}
a{color:var(--accent)}
a:focus-visible, .btn:focus-visible, .people-switch label:focus-visible{
  outline:2px solid var(--accent-2); outline-offset:3px; border-radius:12px;
}
@media (prefers-reduced-motion: reduce){
  *{ animation:none !important; transition:none !important; scroll-behavior:auto !important; }
}
.container{width:min(1120px,92%); margin-inline:auto}

/* ===== Header ===== */
.site-header{
  position:sticky; top:0; z-index:10;
  background:color-mix(in oklab,var(--panel)88%,transparent 12%);
  backdrop-filter:blur(10px);
  border-bottom:1px solid color-mix(in oklab,var(--muted)20%,transparent 80%);
}
.header-wrap{display:flex; align-items:center; gap:var(--gap); padding:14px 0}
.brand{font-size:clamp(18px,2.2vw,24px); margin:0}
.brand .muted{color:var(--muted); font-weight:600}

/* ===== People Switch ===== */
.people-switch{
  margin-left:auto; position:relative; display:inline-grid; grid-template-columns:auto 1fr 1fr; gap:8px;
  background:var(--card); border-radius:999px; padding:6px; box-shadow:var(--shadow);
  border:1px solid color-mix(in oklab,var(--muted)18%,transparent 82%);
  align-items:center;
}
.people-switch .btn.small.ghost{margin-left:4px}
.people-switch label{
  z-index:2; padding:10px 18px; border-radius:999px; cursor:pointer; user-select:none;
  font-weight:600; color:var(--muted); text-align:center; white-space:nowrap;
}
.people-switch .pill{
  position:absolute; inset:6px calc(50% + 6px) 6px 78px; /* เผื่อปุ่ม Home ฝั่งซ้าย */
  border-radius:999px; background:linear-gradient(135deg,var(--accent),var(--accent-2));
  transition:inset .35s cubic-bezier(.2,.8,.2,1);
  box-shadow:inset 0 0 0 1px rgba(255,255,255,.2), 0 10px 24px rgba(0,0,0,.25);
}
body:has(#p1:checked) .people-switch label[for="p1"]{color:#fff}
body:has(#p2:checked) .people-switch label[for="p2"]{color:#fff}
body:has(#p2:checked) .people-switch .pill{inset:6px 6px 6px calc(50% + 78px)} /* ย้ายขวาเมื่อ p2 */

/* ===== Panels (show/hide) ===== */
.tab-input{position:absolute; left:-9999px; width:1px; height:1px; overflow:hidden;}
.panel{display:none; padding:40px 0;}
/* วิธีหลัก (เบราว์เซอร์รองรับ :has) */
body:has(#p1:checked) #panel-p1{display:block}
body:has(#p2:checked) #panel-p2{display:block}
/* Fallback (กรณีไม่รองรับ :has) */
#p1:checked ~ main #panel-p1{display:block}
#p2:checked ~ main #panel-p2{display:block}

/* ===== Hero ===== */
.hero{
  display:grid; grid-template-columns:1.2fr .8fr; gap:var(--gap); align-items:center;
  background:var(--panel); border-radius:var(--radius); padding:clamp(18px,3vw,32px);
  box-shadow:var(--shadow); border:1px solid color-mix(in oklab,var(--muted)16%,transparent 84%);
}
@media (max-width:900px){ .hero{grid-template-columns:1fr} }
.title{font-size:clamp(28px,4vw,44px); margin:.1em 0 .2em}
.subtitle{color:var(--muted); margin:0 0 .6em}
.bio{margin:0 0 1.1em}
.accent{background:linear-gradient(135deg,var(--accent),var(--accent-2)); -webkit-background-clip:text; background-clip:text; color:transparent}
.cta{display:flex; gap:12px; flex-wrap:wrap}
.btn{
  display:inline-flex; align-items:center; justify-content:center; gap:8px; padding:10px 16px; border-radius:12px;
  font-weight:700; text-decoration:none; border:1px solid color-mix(in oklab,var(--muted)20%,transparent 80%);
  transition:transform .12s ease, background .2s ease, color .2s ease, border-color .2s ease;
}
.btn:hover{transform:translateY(-1px)}
.btn.primary{background:linear-gradient(135deg,var(--accent),var(--accent-2)); color:#fff; border-color:transparent}
.btn.ghost{background:transparent; color:var(--text)}
.btn.small{padding:8px 12px; font-size:.92rem}

/* ===== Avatar (วงกลม + ครอปภาพ) ===== */
.hero-right .avatar,
.hero-right .avatar.alt{
  width:220px; aspect-ratio:1/1; border-radius:50%;
  overflow:hidden;                    /* ตัดรูปให้เป็นวงกลม */
  box-shadow:var(--shadow); margin-inline:auto;
  border:6px solid color-mix(in oklab,var(--panel)80%,transparent 20%);
  background:
    radial-gradient(60% 60% at 30% 30%, rgba(255,255,255,.12), transparent),
    linear-gradient(135deg,var(--accent),var(--accent-2));
}
/* โปรไฟล์ที่มีรูปจริง: ล้างพื้นหลัง */
.hero-right .avatar{ background:none !important; }
/* ให้รูปพอดีวงกลม */
.hero-right .avatar img{width:100%; height:100%; object-fit:cover; display:block;}
/* ถ้าต้องการกราเดียนต์แทนรูป ให้ใช้ .avatar.alt */
.hero-right .avatar.alt{
  background:
    radial-gradient(60% 60% at 70% 30%, rgba(255,255,255,.12), transparent),
    linear-gradient(135deg,#ff6fb3,#ffd86b);
}

/* ===== Cards ===== */
.cards{margin-top:var(--gap); display:grid; gap:var(--gap)}
.cards.trio{grid-template-columns:repeat(3,1fr)}
.cards.duo{grid-template-columns:repeat(2,1fr)}
@media (max-width:900px){ .cards.trio, .cards.duo{grid-template-columns:1fr} }

.card{
  background:var(--panel); border-radius:var(--radius); padding:clamp(16px,2.4vw,22px);
  border:1px solid color-mix(in oklab,var(--muted)16%,transparent 84%); box-shadow:var(--shadow);
}
.card h3{margin:.2em 0 .6em}

/* ===== Skill list ===== */
.skill-list{list-style:none; margin:0; padding:0; display:grid; gap:12px}
.skill-list li{display:grid; grid-template-columns:1fr 160px; align-items:center; gap:12px}
.skill-list span{color:var(--muted)}
progress{width:100%; height:10px; border:0; border-radius:999px; background:#233048; overflow:hidden}
progress::-webkit-progress-bar{background:#233048; border-radius:999px}
progress::-webkit-progress-value{background:linear-gradient(90deg,var(--accent),var(--accent-2))}
progress::-moz-progress-bar{background:linear-gradient(90deg,var(--accent),var(--accent-2))}

/* ===== Chips & Tags ===== */
.chips, .tags{display:flex; gap:8px; flex-wrap:wrap}
.chip, .tags span{
  background:color-mix(in oklab,var(--card)85%,transparent 15%);
  border:1px solid color-mix(in oklab,var(--muted)22%,transparent 78%);
  padding:6px 10px; border-radius:999px; font-weight:700; font-size:.9rem; color:var(--muted)
}

/* ===== Projects ===== */
.projects{margin-top:var(--gap)}
.projects .grid{display:grid; gap:var(--gap); grid-template-columns:repeat(3,1fr)}
@media (max-width:1100px){ .projects .grid{grid-template-columns:repeat(2,1fr)} }
@media (max-width:740px){ .projects .grid{grid-template-columns:1fr} }
.project{
  display:grid; grid-template-rows:auto 1fr; background:var(--panel);
  border:1px solid color-mix(in oklab,var(--muted)16%,transparent 84%);
  border-radius:var(--radius); box-shadow:var(--shadow);
}
.project .thumb.ratio{
  aspect-ratio:16/9; background:
    radial-gradient(80% 60% at 50% 10%, rgba(255,255,255,.14), transparent),
    linear-gradient(135deg,var(--accent),var(--accent-2));
  border-top-left-radius:var(--radius); border-top-right-radius:var(--radius);
}
.project-body{padding:16px}
.project h4{margin:.2em 0 .4em}
.project p{margin:0 0 .6em}
.project .actions{display:flex; gap:8px; flex-wrap:wrap}

/* ===== Timeline ===== */
.timeline{margin-top:var(--gap)}
.steps{margin:0; padding:0; list-style:none; display:grid; gap:14px}
.steps li{
  display:grid; grid-template-columns:140px 1fr; gap:16px; align-items:start; background:var(--panel);
  border:1px solid color-mix(in oklab,var(--muted)16%,transparent 84%); border-radius:12px; padding:12px 14px;
}
.steps .when{color:var(--muted); font-weight:700}

/* ===== Contact ===== */
.contact{margin-top:var(--gap)}
.contact-list{display:flex; gap:12px; flex-wrap:wrap; padding:0; list-style:none}
.contact-list a{
  display:inline-flex; align-items:center; gap:8px; text-decoration:none; font-weight:700; color:var(--text);
  border:1px solid color-mix(in oklab,var(--muted)20%,transparent 80%); padding:8px 12px; border-radius:999px;
  background:color-mix(in oklab,var(--card)85%,transparent 15%);
}
.contact-list a:hover{border-color:var(--ring)}
/* ให้ไอคอนทุกปุ่มขนาดเท่ากัน */
.contact-list a svg{ width:18px; height:18px }

/* Instagram button */
.contact-list a.ig{background:linear-gradient(45deg,#f58529,#feda77,#dd2a7b,#8134af,#515bd4); color:#fff; border-color:transparent}
.contact-list a.ig:hover{transform:translateY(-1px); filter:saturate(1.1)}

/* Gmail button */
.contact-list a.gmail{ color:#ea4335; border-color:#ea4335; background:transparent }
.contact-list a.gmail:hover{ background:color-mix(in oklab,#ea4335 15%, transparent) }

/* GitHub button */
.contact-list a.github{ background:#24292e; color:#fff; border-color:transparent }
.contact-list a.github:hover{ transform:translateY(-1px); filter:saturate(1.05) }

/* ===== Footer ===== */
.site-footer{padding:36px 0; color:var(--muted); text-align:center}

/* ===== Print (ตัวเลือก) ===== */
@media print{
  .site-header, .people-switch, .projects .actions, .contact-list{ display:none !important }
  body{ background:#fff; color:#000 }
}

/* ===== Reveal on scroll (เข้าเฟรม) ===== */
.reveal{
  opacity: 0;
  transform: translateY(14px) scale(.98);
  will-change: opacity, transform;
  transition:
    opacity .6s ease,
    transform .6s cubic-bezier(.2,.8,.2,1);
  transition-delay: calc(var(--stagger, 0) * 80ms);
}
.reveal.in-view{
  opacity: 1;
  transform: none;
}
/* ปรับท่าทางเริ่มต้นบางบล็อก */
.hero.reveal{ transform: translateY(8px) scale(.995); }
/* ถ้าผู้ใช้ตั้งลดแอนิเมชัน ให้โชว์ทันที */
@media (prefers-reduced-motion: reduce){
  .reveal{ opacity:1 !important; transform:none !important; transition:none !important; }
}

/* ===== Landing (หน้าแรก) ===== */
.landing{
  min-height: clamp(560px, 86vh, 920px);
  display: grid; place-items: center;
}
.landing-inner{
  width:min(1120px,92%); margin-inline:auto; text-align:center;
  background: var(--panel);
  border:1px solid color-mix(in oklab,var(--muted)16%,transparent 84%);
  box-shadow: var(--shadow);
  border-radius: var(--radius);
  padding: clamp(20px, 5vw, 44px);
}
.landing-title{ font-size: clamp(28px,4.2vw,46px); margin:.2em 0 .2em }
.landing-subtitle{ color: var(--muted); margin: 0 0 1em }
.landing-grid{
  margin-top: 14px;
  display:grid; grid-template-columns: repeat(2, 1fr); gap: var(--gap);
}
@media (max-width: 820px){ .landing-grid{ grid-template-columns: 1fr } }

.landing-card{
  display:grid; grid-template-rows: 220px auto; text-decoration:none; color:inherit;
  background: var(--card);
  border:1px solid color-mix(in oklab,var(--muted)16%,transparent 84%);
  border-radius: calc(var(--radius) + 4px);
  overflow: hidden;
  box-shadow: var(--shadow);
  transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease;
}
.landing-card:hover{ transform: translateY(-3px); border-color: var(--ring) }
.landing-thumb{
  position:relative; overflow:hidden; background:
    radial-gradient(60% 60% at 30% 30%, rgba(255,255,255,.12), transparent),
    linear-gradient(135deg,var(--accent),var(--accent-2));
}
.landing-thumb img{
  width:100%; height:100%; object-fit:cover; display:block;
  filter: saturate(1.02) contrast(1.02);
}
.landing-body{ padding:18px }
.landing-body h2{ margin:.3em 0 .2em; font-size: clamp(18px,2.4vw,24px) }
.landing-body p{ margin:0 0 .6em; color: var(--muted) }

.landing .chip{
  display:inline-block; font-weight:700;
  background:color-mix(in oklab,var(--card)85%,transparent 15%);
  border:1px solid color-mix(in oklab,var(--muted)22%,transparent 78%);
  padding:6px 10px; border-radius:999px; color:var(--muted)
}
